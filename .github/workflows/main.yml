name: Pipeline

on:
  workflow_dispatch:
    inputs:
      services:
        description: "Buildar imagem espec√≠fica"
        default: ''
        type: choice
        required: false
        options: ["gateway","services/accountancy","services/authentication","services/biometric","services/contract","services/dashboard","services/document","services/good","services/image","services/info","services/integration","services/nools","services/ocr","services/params","services/person","services/portfolio","services/proposal","services/realty","services/sequences","services/treasury","services/user","services/vehicle"]

env:
  DOCKER_REGISTRY_DOMAIN: reg.kapmug.spiritsec.com.br
  
jobs:
  build-docker-image:
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 1
      matrix:
        images: [${{ inputs.services }}]
    steps:
			- run: |
					echo "Services: $SERVICES"
				env:
					SERVICES: ${{ inputs.services }}
